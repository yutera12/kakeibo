<!doctype html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <title>家計簿</title>
  <link rel="icon" href="https://img.icons8.com/ios/50/000000/money-bag-yen.png" type="image/png"/>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.22/vue.min.js'></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.min.js"></script>
  <link rel=stylesheet type=text/css href="https://yutera12.github.io/kakeibo/style.css">
</head>

<body>
  <div id = 'app'>
    <div class="container-fluid">
      <!--ナビゲーションウィンドウここから-->
      <header>
        <nav class="navbar navbar-expand navbar-dark bg-dark fixed-top">
          <div class="navbar-brand">
            家計簿
          </div>
          <div class="navbar-nav">
            <a class="nav-item nav-link" href="#">メニュー</a>
            <a class="nav-item nav-link active" href="index">推移</a>
            <a class="nav-item nav-link" href="month">月毎・年度毎</a>
            <a class="nav-item nav-link" href="future">予測</a>
          </div>
        </nav>
      </header>
      <!--ナビゲーションウィンドウここまで-->

      <div class="row">
         <div class="col-2"></div>
         <div class="col-2 bg-light sidebar overflow-auto">
          <!--サイドバーここから-->
          <aside>
            <ul>
              <li>
                <img src="https://img.icons8.com/small/24/000000/settings.png"/>
                <span class="navbar-text">設定</span>
              </li>
              <ul>
                <li><select v-model="selectedOption" v-on:change="update">
                  <option v-for="option in options" v-bind:value="option" v-bind:key="option">
                    [[ option ]]
                  </option>
                </select></li>
                <li><select v-model="selectedUnit" v-on:change="update">
                  <option v-for="unit in units" v-bind:value="unit.id" v-bind:key="unit.id">
                    [[ unit.name ]]
                  </option>
                </select></li>
              </ul>
              <li>
                <img src="https://img.icons8.com/small/24/000000/link.png"/>
                <span class="navbar-text">各項目へ移動</span>
              </li>
              <ul>
                <li><a href="#link_asset">資産</a></li>
                <li><a href="#link_inout">収支</a></li>
                <li><a href="#link_in">収入</a></li>
                <li><a href="#link_out1">支出大項目</a></li>
                <li><a href="#link_out2">支出小項目</a></li>
                <out2_bar v-bind:names="out2_name"></out2_bar>
              </ul>
            </ul>
          </aside>
          <!--サイドバーここまで-->
        </div>
        <div class="col-10">
          <main>
            <!--メインここから-->
            <a id="link_asset" class="anchor"><h2>資産</h2></a>
            <canvas id="canvas_asset" height="30%" width="100%"></canvas>
            <tbl v-bind:data="tbl_asset"></tbl>

            <a id="link_inout" class="anchor"><h2>収支</h2></a>
            <canvas id="canvas_inout" height="30%" width="100%"></canvas>
            <tbl v-bind:data="tbl_inout"></tbl>

            <a id="link_in" class="anchor"><h2>収入</h2></a>
            <canvas id="canvas_in" height="30%" width="100%"></canvas>
            <tbl v-bind:data="tbl_in"></tbl>

            <a id="link_out1" class="anchor"><h2>支出大項目</h2></a>
            <canvas id="canvas_out1" height="30%" width="100%"></canvas>
            <tbl v-bind:data="tbl_out1"></tbl>

            <a id="link_out2" class="anchor"><h2>支出小項目</h2></a>
            <out2_main v-bind:option="selectedOption" v-bind:names="out2_name" v-bind:tbls="out2_tbl"></out2_main>
            <!--メインここまで-->
          </main>
          <footer>
            <ul>
              <li><a href="https://icons8.com/icon/34001/お金袋円">お金袋円 icon by Icons8</a></li>
              <li><a href="https://icons8.com/icon/43556/settings">Settings icon by Icons8</a></li>
              <li><a href="https://icons8.com/icon/45296/link">Link icon by Icons8</a></li>
            </ul>
          </footer>
        </div>
      </div>
    </div>
  </div>
  <script>
    const sleep = waitTime => new Promise( resolve => setTimeout(resolve, waitTime) );

    const tblComponent = {
      props: ['data'],
      template: `
        <table class="table table-striped table-sm table-hover">
          <thead>
            <tr align="right">
              <th v-for = "col in data[0]">[[col]]</th>
            </tr>
          </thead>
          <tbody>
            <tr align="right" v-for = "line in data.slice(1)">
              <td v-for = "dt in line">[[dt]]</td>
            </tr>
          </tbody>
        </table>`,
      delimiters: ['[[', ']]']
    };

    const out2_mainComponent = {
      template: `
        <div>
          <div v-for="(name, index) in names">
            <a v-bind:id="'link_out2_' + index" class="anchor"><h3>[[name]]</h3></a>
            <canvas v-bind:id="'canvas_out2_' + index" height="30%" width="100%"></canvas>
            <tbl v-bind:data="extract(tbls, index)"> </tbl>
          </div>
        </div>
      `,
      props: ["names", "tbls"],
      methods: {
        extract: function(list, index){
          if (list.length <= index){
            return [[]]
          }else{
            return list[index]
          }
        }
      },
      delimiters: ['[[', ']]'],
      components: {"tbl": tblComponent}
    };

    const out2_barComponent = {
      template: `
        <ul>
          <div v-for="(name, index) in names">
            <li><a v-bind:href="'#link_out2_' + index">[[name]]</a></li>
          </div>
        </ul>
      `,
      props: ["names"],
      methods: {
        extract: function(list, index){
          if (list.length <= index){
            return [[]]
          }else{
            return list[index]
          }
        }
      },
      delimiters: ['[[', ']]']
    }

    app = new Vue({
      el: '#app',
      data:{
        options: ['グラフ＆表', 'グラフのみ'],
        selectedOption : 'グラフのみ',
        units: [{id: 'year', name:'年度'}, {id: 'month', name:'月'}],
        selectedUnit : 'month',
        out2Len: 0,
        tbl_asset: [[]],
        tbl_inout: [[]],
        tbl_in: [[]],
        tbl_out1: [[]],
        out2_name: [],
        out2_tbl: [],
        canvas_asset: '',
        canvas_inout: '',
        canvas_in: '',
        canvas_out1: '',
        canvas_out2: [],
        created: false,
        sampleData: {"/getOut2": ["電気", "ガス", "水道", "通信", "住居", "保険", "医療", "食料品", "日用雑貨", "交通", "娯楽", "交際", "その他"], "/getTable_index/month/asset,None": [["月", "資産"], ["200403", "11,919,150"], ["200402", "11,914,446"], ["200401", "11,702,403"], ["200312", "11,563,822"], ["200311", "11,683,969"], ["200310", "11,640,261"], ["200309", "11,743,308"], ["200308", "11,568,787"], ["200307", "11,679,806"], ["200306", "11,805,961"], ["200305", "11,817,551"], ["200304", "11,756,290"], ["200303", "11,856,527"], ["200302", "11,576,207"], ["200301", "11,696,376"], ["200212", "11,603,376"], ["200211", "11,579,224"], ["200210", "11,293,374"], ["200209", "11,149,703"], ["200208", "11,138,898"], ["200207", "10,996,005"], ["200206", "10,882,369"], ["200205", "10,887,842"], ["200204", "10,776,546"], ["200203", "10,654,944"], ["200202", "10,678,750"], ["200201", "10,889,941"], ["200112", "10,951,177"], ["200111", "10,924,207"], ["200110", "10,905,618"], ["200109", "11,084,081"], ["200108", "11,225,229"], ["200107", "11,221,371"], ["200106", "11,288,876"], ["200105", "11,211,628"], ["200104", "11,008,128"]], "/getGraph_index/month/asset,None": {"type": "line", "options": {"elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203", "200204", "200205", "200206", "200207", "200208", "200209", "200210", "200211", "200212", "200301", "200302", "200303", "200304", "200305", "200306", "200307", "200308", "200309", "200310", "200311", "200312", "200401", "200402", "200403"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "資産", "data": [11008128, 11211628, 11288876, 11221371, 11225229, 11084081, 10905618, 10924207, 10951177, 10889941, 10678750, 10654944, 10776546, 10887842, 10882369, 10996005, 11138898, 11149703, 11293374, 11579224, 11603376, 11696376, 11576207, 11856527, 11756290, 11817551, 11805961, 11679806, 11568787, 11743308, 11640261, 11683969, 11563822, 11702403, 11914446, 11919150]}]}}, "/getTable_index/month/inout,None": [["月", "収入", "支出", "収支"], ["200403", "701,523", "696,819", "4,704"], ["200402", "728,120", "516,077", "212,043"], ["200401", "686,484", "547,903", "138,581"], ["200312", "697,199", "817,346", "-120,147"], ["200311", "730,875", "687,167", "43,708"], ["200310", "661,204", "764,251", "-103,047"], ["200309", "740,962", "566,441", "174,521"], ["200308", "735,648", "846,667", "-111,019"], ["200307", "679,734", "805,889", "-126,155"], ["200306", "694,701", "706,291", "-11,590"], ["200305", "749,991", "688,730", "61,261"], ["200304", "651,200", "751,437", "-100,237"], ["200303", "709,308", "428,988", "280,320"], ["200302", "686,440", "806,609", "-120,169"], ["200301", "731,524", "638,524", "93,000"], ["200212", "791,589", "767,437", "24,152"], ["200211", "785,308", "499,458", "285,850"], ["200210", "731,371", "587,700", "143,671"], ["200209", "757,838", "747,033", "10,805"], ["200208", "728,738", "585,845", "142,893"], ["200207", "617,675", "504,039", "113,636"], ["200206", "672,547", "678,020", "-5,473"], ["200205", "708,288", "596,992", "111,296"], ["200204", "729,143", "607,541", "121,602"], ["200203", "687,766", "711,572", "-23,806"], ["200202", "662,138", "873,329", "-211,191"], ["200201", "771,143", "832,379", "-61,236"], ["200112", "698,450", "671,480", "26,970"], ["200111", "766,483", "747,894", "18,589"], ["200110", "699,508", "877,971", "-178,463"], ["200109", "642,048", "783,196", "-141,148"], ["200108", "660,287", "656,429", "3,858"], ["200107", "649,789", "717,294", "-67,505"], ["200106", "730,042", "652,794", "77,248"], ["200105", "663,492", "459,992", "203,500"], ["200104", "732,075", "723,947", "8,128"]], "/getGraph_index/month/inout,None": {"type": "bar", "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203", "200204", "200205", "200206", "200207", "200208", "200209", "200210", "200211", "200212", "200301", "200302", "200303", "200304", "200305", "200306", "200307", "200308", "200309", "200310", "200311", "200312", "200401", "200402", "200403"], "datasets": [{"type": "line", "fill": false, "borderColor": "rgb(  0,   0, 255)", "label": "収入", "data": [732075, 663492, 730042, 649789, 660287, 642048, 699508, 766483, 698450, 771143, 662138, 687766, 729143, 708288, 672547, 617675, 728738, 757838, 731371, 785308, 791589, 731524, 686440, 709308, 651200, 749991, 694701, 679734, 735648, 740962, 661204, 730875, 697199, 686484, 728120, 701523]}, {"type": "line", "fill": false, "borderColor": "rgb(  0, 203, 255)", "label": "支出", "data": [723947, 459992, 652794, 717294, 656429, 783196, 877971, 747894, 671480, 832379, 873329, 711572, 607541, 596992, 678020, 504039, 585845, 747033, 587700, 499458, 767437, 638524, 806609, 428988, 751437, 688730, 706291, 805889, 846667, 566441, 764251, 687167, 817346, 547903, 516077, 696819]}, {"type": "bar", "backgroundColor": "rgb(255, 255,   0)", "label": "収支", "data": [8128, 203500, 77248, -67505, 3858, -141148, -178463, 18589, 26970, -61236, -211191, -23806, 121602, 111296, -5473, 113636, 142893, 10805, 143671, 285850, 24152, 93000, -120169, 280320, -100237, 61261, -11590, -126155, -111019, 174521, -103047, 43708, -120147, 138581, 212043, 4704]}]}, "options": {"responsive": true, "tooltips": {"mode": "index", "intersect": true}, "elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"ticks": {"beginAtZero": true}}]}}}, "/getTable_index/month/in,None": [["月", "給与A", "給与B"], ["200403", "518,791", "182,732"], ["200402", "589,366", "138,754"], ["200401", "508,695", "177,789"], ["200312", "510,788", "186,411"], ["200311", "549,244", "181,631"], ["200310", "501,822", "159,382"], ["200309", "589,683", "151,279"], ["200308", "587,282", "148,366"], ["200307", "533,277", "146,457"], ["200306", "533,579", "161,122"], ["200305", "552,733", "197,258"], ["200304", "549,613", "101,587"], ["200303", "524,819", "184,489"], ["200302", "504,536", "181,904"], ["200301", "552,215", "179,309"], ["200212", "592,319", "199,270"], ["200211", "588,557", "196,751"], ["200210", "596,640", "134,731"], ["200209", "595,024", "162,814"], ["200208", "574,045", "154,693"], ["200207", "508,561", "109,114"], ["200206", "526,198", "146,349"], ["200205", "578,911", "129,377"], ["200204", "596,550", "132,593"], ["200203", "576,360", "111,406"], ["200202", "529,549", "132,589"], ["200201", "580,790", "190,353"], ["200112", "521,042", "177,408"], ["200111", "588,171", "178,312"], ["200110", "575,514", "123,994"], ["200109", "526,076", "115,972"], ["200108", "543,151", "117,136"], ["200107", "514,417", "135,372"], ["200106", "593,177", "136,865"], ["200105", "547,867", "115,625"], ["200104", "593,547", "138,528"]], "/getGraph_index/month/in,None": {"type": "line", "options": {"elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203", "200204", "200205", "200206", "200207", "200208", "200209", "200210", "200211", "200212", "200301", "200302", "200303", "200304", "200305", "200306", "200307", "200308", "200309", "200310", "200311", "200312", "200401", "200402", "200403"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "給与A", "data": [593547, 547867, 593177, 514417, 543151, 526076, 575514, 588171, 521042, 580790, 529549, 576360, 596550, 578911, 526198, 508561, 574045, 595024, 596640, 588557, 592319, 552215, 504536, 524819, 549613, 552733, 533579, 533277, 587282, 589683, 501822, 549244, 510788, 508695, 589366, 518791]}, {"fill": "-1", "backgroundColor": "rgba(  0, 203, 255, 0.5)", "borderColor": "rgb(  0, 203, 255)", "label": "給与B", "data": [138528, 115625, 136865, 135372, 117136, 115972, 123994, 178312, 177408, 190353, 132589, 111406, 132593, 129377, 146349, 109114, 154693, 162814, 134731, 196751, 199270, 179309, 181904, 184489, 101587, 197258, 161122, 146457, 148366, 151279, 159382, 181631, 186411, 177789, 138754, 182732]}]}}, "/getTable_index/month/out1,None": [["月", "光熱水", "通信", "住居", "医療・保険", "食料品", "日用雑貨", "交通", "娯楽", "交際"], ["200403", "54,917", "8,758", "152,649", "32,786", "96,003", "12,580", "16,836", "253,459", "57,091"], ["200402", "42,154", "4,419", "129,041", "34,486", "90,829", "19,470", "18,468", "96,352", "62,718"], ["200401", "29,832", "12,571", "162,585", "19,141", "96,924", "19,118", "15,971", "95,222", "83,359"], ["200312", "30,511", "19,759", "189,188", "30,233", "86,423", "15,454", "15,722", "359,088", "51,406"], ["200311", "40,904", "13,441", "102,541", "30,607", "52,850", "15,995", "12,927", "289,591", "117,598"], ["200310", "36,295", "14,642", "143,289", "29,368", "58,625", "19,271", "10,151", "340,833", "97,939"], ["200309", "29,149", "6,203", "118,648", "32,329", "90,795", "10,125", "17,039", "128,069", "115,687"], ["200308", "28,475", "17,812", "101,267", "32,133", "67,661", "17,201", "17,055", "514,092", "36,239"], ["200307", "39,569", "13,319", "147,714", "23,120", "57,171", "19,203", "12,710", "425,610", "47,918"], ["200306", "47,548", "18,856", "166,451", "29,470", "84,625", "13,566", "17,013", "213,276", "105,153"], ["200305", "18,979", "10,514", "126,746", "24,776", "82,291", "16,052", "10,532", "266,901", "119,138"], ["200304", "41,768", "14,220", "178,195", "28,235", "67,143", "16,236", "15,040", "270,759", "104,091"], ["200303", "44,558", "9,283", "118,418", "35,557", "76,247", "15,285", "14,317", "42,113", "59,456"], ["200302", "41,823", "5,741", "125,141", "30,914", "94,469", "16,780", "14,550", "409,349", "55,282"], ["200301", "32,785", "15,890", "104,993", "31,689", "58,980", "11,097", "16,803", "291,389", "61,784"], ["200212", "27,745", "14,410", "189,323", "21,674", "87,174", "18,370", "19,993", "305,649", "65,939"], ["200211", "39,365", "16,750", "183,505", "26,249", "51,337", "16,975", "14,663", "73,207", "60,598"], ["200210", "23,416", "7,300", "153,230", "28,291", "90,941", "19,745", "15,126", "191,347", "42,157"], ["200209", "37,791", "9,338", "159,154", "34,282", "81,372", "18,134", "12,965", "283,551", "96,789"], ["200208", "30,216", "17,459", "185,453", "33,460", "70,583", "16,599", "15,851", "148,298", "50,353"], ["200207", "50,373", "10,188", "164,733", "32,331", "58,439", "14,498", "13,241", "66,988", "75,987"], ["200206", "52,176", "16,115", "187,267", "28,454", "80,727", "17,095", "17,037", "198,528", "64,065"], ["200205", "39,197", "12,694", "180,804", "23,005", "83,255", "12,673", "16,338", "166,564", "42,548"], ["200204", "36,518", "12,378", "175,437", "16,491", "54,898", "13,301", "16,114", "150,622", "120,923"], ["200203", "33,162", "19,192", "134,437", "38,725", "95,138", "17,444", "14,224", "249,375", "94,402"], ["200202", "31,590", "14,102", "163,019", "26,366", "73,822", "16,031", "16,821", "411,711", "103,072"], ["200201", "44,437", "4,951", "160,787", "32,214", "78,616", "12,066", "10,648", "356,141", "115,185"], ["200112", "45,672", "14,156", "190,261", "24,060", "76,309", "18,552", "12,603", "219,225", "60,484"], ["200111", "37,682", "17,993", "195,138", "30,423", "65,711", "19,229", "18,641", "225,163", "118,076"], ["200110", "35,983", "6,945", "152,209", "26,220", "54,628", "14,117", "19,430", "495,468", "56,659"], ["200109", "57,091", "19,484", "144,672", "32,255", "73,453", "18,205", "14,897", "340,601", "63,409"], ["200108", "42,549", "18,825", "183,227", "29,220", "87,020", "12,874", "19,362", "218,124", "32,418"], ["200107", "45,160", "6,428", "190,585", "27,426", "79,676", "15,088", "16,198", "234,050", "85,385"], ["200106", "47,780", "6,975", "174,303", "32,061", "61,032", "12,727", "12,021", "222,192", "66,834"], ["200105", "37,848", "7,258", "167,517", "26,277", "63,671", "10,079", "15,998", "21,854", "91,206"], ["200104", "43,131", "11,194", "111,552", "32,182", "91,970", "12,429", "17,785", "349,327", "44,091"]], "/getGraph_index/month/out1,None": {"type": "line", "options": {"elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203", "200204", "200205", "200206", "200207", "200208", "200209", "200210", "200211", "200212", "200301", "200302", "200303", "200304", "200305", "200306", "200307", "200308", "200309", "200310", "200311", "200312", "200401", "200402", "200403"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "光熱水", "data": [43131, 37848, 47780, 45160, 42549, 57091, 35983, 37682, 45672, 44437, 31590, 33162, 36518, 39197, 52176, 50373, 30216, 37791, 23416, 39365, 27745, 32785, 41823, 44558, 41768, 18979, 47548, 39569, 28475, 29149, 36295, 40904, 30511, 29832, 42154, 54917]}, {"fill": "-1", "backgroundColor": "rgba(  0, 203, 255, 0.5)", "borderColor": "rgb(  0, 203, 255)", "label": "通信", "data": [11194, 7258, 6975, 6428, 18825, 19484, 6945, 17993, 14156, 4951, 14102, 19192, 12378, 12694, 16115, 10188, 17459, 9338, 7300, 16750, 14410, 15890, 5741, 9283, 14220, 10514, 18856, 13319, 17812, 6203, 14642, 13441, 19759, 12571, 4419, 8758]}, {"fill": "-1", "backgroundColor": "rgba(255, 255,   0, 0.5)", "borderColor": "rgb(255, 255,   0)", "label": "住居", "data": [111552, 167517, 174303, 190585, 183227, 144672, 152209, 195138, 190261, 160787, 163019, 134437, 175437, 180804, 187267, 164733, 185453, 159154, 153230, 183505, 189323, 104993, 125141, 118418, 178195, 126746, 166451, 147714, 101267, 118648, 143289, 102541, 189188, 162585, 129041, 152649]}, {"fill": "-1", "backgroundColor": "rgba(216, 255, 204, 0.5)", "borderColor": "rgb(216, 255, 204)", "label": "医療・保険", "data": [32182, 26277, 32061, 27426, 29220, 32255, 26220, 30423, 24060, 32214, 26366, 38725, 16491, 23005, 28454, 32331, 33460, 34282, 28291, 26249, 21674, 31689, 30914, 35557, 28235, 24776, 29470, 23120, 32133, 32329, 29368, 30607, 30233, 19141, 34486, 32786]}, {"fill": "-1", "backgroundColor": "rgba(  0, 255,   0, 0.5)", "borderColor": "rgb(  0, 255,   0)", "label": "食料品", "data": [91970, 63671, 61032, 79676, 87020, 73453, 54628, 65711, 76309, 78616, 73822, 95138, 54898, 83255, 80727, 58439, 70583, 81372, 90941, 51337, 87174, 58980, 94469, 76247, 67143, 82291, 84625, 57171, 67661, 90795, 58625, 52850, 86423, 96924, 90829, 96003]}, {"fill": "-1", "backgroundColor": "rgba(  0, 101,   0, 0.5)", "borderColor": "rgb(  0, 101,   0)", "label": "日用雑貨", "data": [12429, 10079, 12727, 15088, 12874, 18205, 14117, 19229, 18552, 12066, 16031, 17444, 13301, 12673, 17095, 14498, 16599, 18134, 19745, 16975, 18370, 11097, 16780, 15285, 16236, 16052, 13566, 19203, 17201, 10125, 19271, 15995, 15454, 19118, 19470, 12580]}, {"fill": "-1", "backgroundColor": "rgba(255,  63,   0, 0.5)", "borderColor": "rgb(255,  63,   0)", "label": "交通", "data": [17785, 15998, 12021, 16198, 19362, 14897, 19430, 18641, 12603, 10648, 16821, 14224, 16114, 16338, 17037, 13241, 15851, 12965, 15126, 14663, 19993, 16803, 14550, 14317, 15040, 10532, 17013, 12710, 17055, 17039, 10151, 12927, 15722, 15971, 18468, 16836]}, {"fill": "-1", "backgroundColor": "rgba( 203,  0, 203, 0.5)", "borderColor": "rgb( 203,  0, 203)", "label": "娯楽", "data": [349327, 21854, 222192, 234050, 218124, 340601, 495468, 225163, 219225, 356141, 411711, 249375, 150622, 166564, 198528, 66988, 148298, 283551, 191347, 73207, 305649, 291389, 409349, 42113, 270759, 266901, 213276, 425610, 514092, 128069, 340833, 289591, 359088, 95222, 96352, 253459]}, {"fill": "-1", "backgroundColor": "rgba(  0,   0,  50, 0.5)", "borderColor": "rgb(  0,   0,  50)", "label": "交際", "data": [44091, 91206, 66834, 85385, 32418, 63409, 56659, 118076, 60484, 115185, 103072, 94402, 120923, 42548, 64065, 75987, 50353, 96789, 42157, 60598, 65939, 61784, 55282, 59456, 104091, 119138, 105153, 47918, 36239, 115687, 97939, 117598, 51406, 83359, 62718, 57091]}]}}, "/getTable_index/month/out2,0": [["月", "電気"], ["200403", "19,369"], ["200402", "8,676"], ["200401", "7,974"], ["200312", "15,827"], ["200311", "10,229"], ["200310", "12,065"], ["200309", "5,606"], ["200308", "8,615"], ["200307", "14,697"], ["200306", "19,879"], ["200305", "4,166"], ["200304", "13,728"], ["200303", "18,538"], ["200302", "16,704"], ["200301", "10,881"], ["200212", "5,676"], ["200211", "11,324"], ["200210", "8,072"], ["200209", "7,873"], ["200208", "13,666"], ["200207", "14,648"], ["200206", "19,451"], ["200205", "9,675"], ["200204", "14,093"], ["200203", "13,549"], ["200202", "13,892"], ["200201", "15,355"], ["200112", "19,078"], ["200111", "9,258"], ["200110", "12,695"], ["200109", "18,628"], ["200108", "17,294"], ["200107", "15,214"], ["200106", "18,267"], ["200105", "9,447"], ["200104", "16,341"]], "/getGraph_index/month/out2,0": {"type": "line", "options": {"elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203", "200204", "200205", "200206", "200207", "200208", "200209", "200210", "200211", "200212", "200301", "200302", "200303", "200304", "200305", "200306", "200307", "200308", "200309", "200310", "200311", "200312", "200401", "200402", "200403"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "電気", "data": [16341, 9447, 18267, 15214, 17294, 18628, 12695, 9258, 19078, 15355, 13892, 13549, 14093, 9675, 19451, 14648, 13666, 7873, 8072, 11324, 5676, 10881, 16704, 18538, 13728, 4166, 19879, 14697, 8615, 5606, 12065, 10229, 15827, 7974, 8676, 19369]}]}}, "/getTable_index/month/out2,1": [["月", "ガス"], ["200403", "18,877"], ["200402", "13,812"], ["200401", "5,247"], ["200312", "9,782"], ["200311", "13,937"], ["200310", "13,709"], ["200309", "10,122"], ["200308", "11,433"], ["200307", "12,171"], ["200306", "13,344"], ["200305", "9,733"], ["200304", "18,527"], ["200303", "8,815"], ["200302", "13,299"], ["200301", "12,905"], ["200212", "14,065"], ["200211", "13,722"], ["200210", "9,242"], ["200209", "12,439"], ["200208", "11,035"], ["200207", "17,278"], ["200206", "13,980"], ["200205", "13,391"], ["200204", "11,644"], ["200203", "9,812"], ["200202", "8,896"], ["200201", "17,087"], ["200112", "14,023"], ["200111", "17,377"], ["200110", "13,449"], ["200109", "18,761"], ["200108", "17,675"], ["200107", "13,749"], ["200106", "9,757"], ["200105", "11,301"], ["200104", "8,746"]], "/getGraph_index/month/out2,1": {"type": "line", "options": {"elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203", "200204", "200205", "200206", "200207", "200208", "200209", "200210", "200211", "200212", "200301", "200302", "200303", "200304", "200305", "200306", "200307", "200308", "200309", "200310", "200311", "200312", "200401", "200402", "200403"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "ガス", "data": [8746, 11301, 9757, 13749, 17675, 18761, 13449, 17377, 14023, 17087, 8896, 9812, 11644, 13391, 13980, 17278, 11035, 12439, 9242, 13722, 14065, 12905, 13299, 8815, 18527, 9733, 13344, 12171, 11433, 10122, 13709, 13937, 9782, 5247, 13812, 18877]}]}}, "/getTable_index/month/out2,2": [["月", "水道"], ["200403", "16,671"], ["200402", "19,666"], ["200401", "16,611"], ["200312", "4,902"], ["200311", "16,738"], ["200310", "10,521"], ["200309", "13,421"], ["200308", "8,427"], ["200307", "12,701"], ["200306", "14,325"], ["200305", "5,080"], ["200304", "9,513"], ["200303", "17,205"], ["200302", "11,820"], ["200301", "8,999"], ["200212", "8,004"], ["200211", "14,319"], ["200210", "6,102"], ["200209", "17,479"], ["200208", "5,515"], ["200207", "18,447"], ["200206", "18,745"], ["200205", "16,131"], ["200204", "10,781"], ["200203", "9,801"], ["200202", "8,802"], ["200201", "11,995"], ["200112", "12,571"], ["200111", "11,047"], ["200110", "9,839"], ["200109", "19,702"], ["200108", "7,580"], ["200107", "16,197"], ["200106", "19,756"], ["200105", "17,100"], ["200104", "18,044"]], "/getGraph_index/month/out2,2": {"type": "line", "options": {"elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203", "200204", "200205", "200206", "200207", "200208", "200209", "200210", "200211", "200212", "200301", "200302", "200303", "200304", "200305", "200306", "200307", "200308", "200309", "200310", "200311", "200312", "200401", "200402", "200403"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "水道", "data": [18044, 17100, 19756, 16197, 7580, 19702, 9839, 11047, 12571, 11995, 8802, 9801, 10781, 16131, 18745, 18447, 5515, 17479, 6102, 14319, 8004, 8999, 11820, 17205, 9513, 5080, 14325, 12701, 8427, 13421, 10521, 16738, 4902, 16611, 19666, 16671]}]}}, "/getTable_index/month/out2,3": [["月", "通信"], ["200403", "8,758"], ["200402", "4,419"], ["200401", "12,571"], ["200312", "19,759"], ["200311", "13,441"], ["200310", "14,642"], ["200309", "6,203"], ["200308", "17,812"], ["200307", "13,319"], ["200306", "18,856"], ["200305", "10,514"], ["200304", "14,220"], ["200303", "9,283"], ["200302", "5,741"], ["200301", "15,890"], ["200212", "14,410"], ["200211", "16,750"], ["200210", "7,300"], ["200209", "9,338"], ["200208", "17,459"], ["200207", "10,188"], ["200206", "16,115"], ["200205", "12,694"], ["200204", "12,378"], ["200203", "19,192"], ["200202", "14,102"], ["200201", "4,951"], ["200112", "14,156"], ["200111", "17,993"], ["200110", "6,945"], ["200109", "19,484"], ["200108", "18,825"], ["200107", "6,428"], ["200106", "6,975"], ["200105", "7,258"], ["200104", "11,194"]], "/getGraph_index/month/out2,3": {"type": "line", "options": {"elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203", "200204", "200205", "200206", "200207", "200208", "200209", "200210", "200211", "200212", "200301", "200302", "200303", "200304", "200305", "200306", "200307", "200308", "200309", "200310", "200311", "200312", "200401", "200402", "200403"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "通信", "data": [11194, 7258, 6975, 6428, 18825, 19484, 6945, 17993, 14156, 4951, 14102, 19192, 12378, 12694, 16115, 10188, 17459, 9338, 7300, 16750, 14410, 15890, 5741, 9283, 14220, 10514, 18856, 13319, 17812, 6203, 14642, 13441, 19759, 12571, 4419, 8758]}]}}, "/getTable_index/month/out2,4": [["月", "住居"], ["200403", "152,649"], ["200402", "129,041"], ["200401", "162,585"], ["200312", "189,188"], ["200311", "102,541"], ["200310", "143,289"], ["200309", "118,648"], ["200308", "101,267"], ["200307", "147,714"], ["200306", "166,451"], ["200305", "126,746"], ["200304", "178,195"], ["200303", "118,418"], ["200302", "125,141"], ["200301", "104,993"], ["200212", "189,323"], ["200211", "183,505"], ["200210", "153,230"], ["200209", "159,154"], ["200208", "185,453"], ["200207", "164,733"], ["200206", "187,267"], ["200205", "180,804"], ["200204", "175,437"], ["200203", "134,437"], ["200202", "163,019"], ["200201", "160,787"], ["200112", "190,261"], ["200111", "195,138"], ["200110", "152,209"], ["200109", "144,672"], ["200108", "183,227"], ["200107", "190,585"], ["200106", "174,303"], ["200105", "167,517"], ["200104", "111,552"]], "/getGraph_index/month/out2,4": {"type": "line", "options": {"elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203", "200204", "200205", "200206", "200207", "200208", "200209", "200210", "200211", "200212", "200301", "200302", "200303", "200304", "200305", "200306", "200307", "200308", "200309", "200310", "200311", "200312", "200401", "200402", "200403"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "住居", "data": [111552, 167517, 174303, 190585, 183227, 144672, 152209, 195138, 190261, 160787, 163019, 134437, 175437, 180804, 187267, 164733, 185453, 159154, 153230, 183505, 189323, 104993, 125141, 118418, 178195, 126746, 166451, 147714, 101267, 118648, 143289, 102541, 189188, 162585, 129041, 152649]}]}}, "/getTable_index/month/out2,5": [["月", "保険"], ["200403", "17,355"], ["200402", "18,405"], ["200401", "10,006"], ["200312", "18,001"], ["200311", "16,017"], ["200310", "18,355"], ["200309", "18,719"], ["200308", "12,875"], ["200307", "16,412"], ["200306", "17,929"], ["200305", "13,815"], ["200304", "10,522"], ["200303", "19,644"], ["200302", "19,249"], ["200301", "19,767"], ["200212", "14,747"], ["200211", "11,730"], ["200210", "13,541"], ["200209", "14,783"], ["200208", "19,246"], ["200207", "17,084"], ["200206", "19,501"], ["200205", "16,066"], ["200204", "10,269"], ["200203", "18,940"], ["200202", "18,825"], ["200201", "12,598"], ["200112", "13,788"], ["200111", "14,196"], ["200110", "15,228"], ["200109", "19,596"], ["200108", "17,660"], ["200107", "19,981"], ["200106", "18,905"], ["200105", "14,397"], ["200104", "16,387"]], "/getGraph_index/month/out2,5": {"type": "line", "options": {"elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203", "200204", "200205", "200206", "200207", "200208", "200209", "200210", "200211", "200212", "200301", "200302", "200303", "200304", "200305", "200306", "200307", "200308", "200309", "200310", "200311", "200312", "200401", "200402", "200403"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "保険", "data": [16387, 14397, 18905, 19981, 17660, 19596, 15228, 14196, 13788, 12598, 18825, 18940, 10269, 16066, 19501, 17084, 19246, 14783, 13541, 11730, 14747, 19767, 19249, 19644, 10522, 13815, 17929, 16412, 12875, 18719, 18355, 16017, 18001, 10006, 18405, 17355]}]}}, "/getTable_index/month/out2,6": [["月", "医療"], ["200403", "15,431"], ["200402", "16,081"], ["200401", "9,135"], ["200312", "12,232"], ["200311", "14,590"], ["200310", "11,013"], ["200309", "13,610"], ["200308", "19,258"], ["200307", "6,708"], ["200306", "11,541"], ["200305", "10,961"], ["200304", "17,713"], ["200303", "15,913"], ["200302", "11,665"], ["200301", "11,922"], ["200212", "6,927"], ["200211", "14,519"], ["200210", "14,750"], ["200209", "19,499"], ["200208", "14,214"], ["200207", "15,247"], ["200206", "8,953"], ["200205", "6,939"], ["200204", "6,222"], ["200203", "19,785"], ["200202", "7,541"], ["200201", "19,616"], ["200112", "10,272"], ["200111", "16,227"], ["200110", "10,992"], ["200109", "12,659"], ["200108", "11,560"], ["200107", "7,445"], ["200106", "13,156"], ["200105", "11,880"], ["200104", "15,795"]], "/getGraph_index/month/out2,6": {"type": "line", "options": {"elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203", "200204", "200205", "200206", "200207", "200208", "200209", "200210", "200211", "200212", "200301", "200302", "200303", "200304", "200305", "200306", "200307", "200308", "200309", "200310", "200311", "200312", "200401", "200402", "200403"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "医療", "data": [15795, 11880, 13156, 7445, 11560, 12659, 10992, 16227, 10272, 19616, 7541, 19785, 6222, 6939, 8953, 15247, 14214, 19499, 14750, 14519, 6927, 11922, 11665, 15913, 17713, 10961, 11541, 6708, 19258, 13610, 11013, 14590, 12232, 9135, 16081, 15431]}]}}, "/getTable_index/month/out2,7": [["月", "食料品"], ["200403", "96,003"], ["200402", "90,829"], ["200401", "96,924"], ["200312", "86,423"], ["200311", "52,850"], ["200310", "58,625"], ["200309", "90,795"], ["200308", "67,661"], ["200307", "57,171"], ["200306", "84,625"], ["200305", "82,291"], ["200304", "67,143"], ["200303", "76,247"], ["200302", "94,469"], ["200301", "58,980"], ["200212", "87,174"], ["200211", "51,337"], ["200210", "90,941"], ["200209", "81,372"], ["200208", "70,583"], ["200207", "58,439"], ["200206", "80,727"], ["200205", "83,255"], ["200204", "54,898"], ["200203", "95,138"], ["200202", "73,822"], ["200201", "78,616"], ["200112", "76,309"], ["200111", "65,711"], ["200110", "54,628"], ["200109", "73,453"], ["200108", "87,020"], ["200107", "79,676"], ["200106", "61,032"], ["200105", "63,671"], ["200104", "91,970"]], "/getGraph_index/month/out2,7": {"type": "line", "options": {"elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203", "200204", "200205", "200206", "200207", "200208", "200209", "200210", "200211", "200212", "200301", "200302", "200303", "200304", "200305", "200306", "200307", "200308", "200309", "200310", "200311", "200312", "200401", "200402", "200403"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "食料品", "data": [91970, 63671, 61032, 79676, 87020, 73453, 54628, 65711, 76309, 78616, 73822, 95138, 54898, 83255, 80727, 58439, 70583, 81372, 90941, 51337, 87174, 58980, 94469, 76247, 67143, 82291, 84625, 57171, 67661, 90795, 58625, 52850, 86423, 96924, 90829, 96003]}]}}, "/getTable_index/month/out2,8": [["月", "日用雑貨"], ["200403", "12,580"], ["200402", "19,470"], ["200401", "19,118"], ["200312", "15,454"], ["200311", "15,995"], ["200310", "19,271"], ["200309", "10,125"], ["200308", "17,201"], ["200307", "19,203"], ["200306", "13,566"], ["200305", "16,052"], ["200304", "16,236"], ["200303", "15,285"], ["200302", "16,780"], ["200301", "11,097"], ["200212", "18,370"], ["200211", "16,975"], ["200210", "19,745"], ["200209", "18,134"], ["200208", "16,599"], ["200207", "14,498"], ["200206", "17,095"], ["200205", "12,673"], ["200204", "13,301"], ["200203", "17,444"], ["200202", "16,031"], ["200201", "12,066"], ["200112", "18,552"], ["200111", "19,229"], ["200110", "14,117"], ["200109", "18,205"], ["200108", "12,874"], ["200107", "15,088"], ["200106", "12,727"], ["200105", "10,079"], ["200104", "12,429"]], "/getGraph_index/month/out2,8": {"type": "line", "options": {"elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203", "200204", "200205", "200206", "200207", "200208", "200209", "200210", "200211", "200212", "200301", "200302", "200303", "200304", "200305", "200306", "200307", "200308", "200309", "200310", "200311", "200312", "200401", "200402", "200403"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "日用雑貨", "data": [12429, 10079, 12727, 15088, 12874, 18205, 14117, 19229, 18552, 12066, 16031, 17444, 13301, 12673, 17095, 14498, 16599, 18134, 19745, 16975, 18370, 11097, 16780, 15285, 16236, 16052, 13566, 19203, 17201, 10125, 19271, 15995, 15454, 19118, 19470, 12580]}]}}, "/getTable_index/month/out2,9": [["月", "交通"], ["200403", "16,836"], ["200402", "18,468"], ["200401", "15,971"], ["200312", "15,722"], ["200311", "12,927"], ["200310", "10,151"], ["200309", "17,039"], ["200308", "17,055"], ["200307", "12,710"], ["200306", "17,013"], ["200305", "10,532"], ["200304", "15,040"], ["200303", "14,317"], ["200302", "14,550"], ["200301", "16,803"], ["200212", "19,993"], ["200211", "14,663"], ["200210", "15,126"], ["200209", "12,965"], ["200208", "15,851"], ["200207", "13,241"], ["200206", "17,037"], ["200205", "16,338"], ["200204", "16,114"], ["200203", "14,224"], ["200202", "16,821"], ["200201", "10,648"], ["200112", "12,603"], ["200111", "18,641"], ["200110", "19,430"], ["200109", "14,897"], ["200108", "19,362"], ["200107", "16,198"], ["200106", "12,021"], ["200105", "15,998"], ["200104", "17,785"]], "/getGraph_index/month/out2,9": {"type": "line", "options": {"elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203", "200204", "200205", "200206", "200207", "200208", "200209", "200210", "200211", "200212", "200301", "200302", "200303", "200304", "200305", "200306", "200307", "200308", "200309", "200310", "200311", "200312", "200401", "200402", "200403"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "交通", "data": [17785, 15998, 12021, 16198, 19362, 14897, 19430, 18641, 12603, 10648, 16821, 14224, 16114, 16338, 17037, 13241, 15851, 12965, 15126, 14663, 19993, 16803, 14550, 14317, 15040, 10532, 17013, 12710, 17055, 17039, 10151, 12927, 15722, 15971, 18468, 16836]}]}}, "/getTable_index/month/out2,10": [["月", "娯楽"], ["200403", "253,459"], ["200402", "96,352"], ["200401", "95,222"], ["200312", "359,088"], ["200311", "289,591"], ["200310", "340,833"], ["200309", "128,069"], ["200308", "514,092"], ["200307", "425,610"], ["200306", "213,276"], ["200305", "266,901"], ["200304", "270,759"], ["200303", "42,113"], ["200302", "409,349"], ["200301", "291,389"], ["200212", "305,649"], ["200211", "73,207"], ["200210", "191,347"], ["200209", "283,551"], ["200208", "148,298"], ["200207", "66,988"], ["200206", "198,528"], ["200205", "166,564"], ["200204", "150,622"], ["200203", "249,375"], ["200202", "411,711"], ["200201", "356,141"], ["200112", "219,225"], ["200111", "225,163"], ["200110", "495,468"], ["200109", "340,601"], ["200108", "218,124"], ["200107", "234,050"], ["200106", "222,192"], ["200105", "21,854"], ["200104", "349,327"]], "/getGraph_index/month/out2,10": {"type": "line", "options": {"elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203", "200204", "200205", "200206", "200207", "200208", "200209", "200210", "200211", "200212", "200301", "200302", "200303", "200304", "200305", "200306", "200307", "200308", "200309", "200310", "200311", "200312", "200401", "200402", "200403"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "娯楽", "data": [349327, 21854, 222192, 234050, 218124, 340601, 495468, 225163, 219225, 356141, 411711, 249375, 150622, 166564, 198528, 66988, 148298, 283551, 191347, 73207, 305649, 291389, 409349, 42113, 270759, 266901, 213276, 425610, 514092, 128069, 340833, 289591, 359088, 95222, 96352, 253459]}]}}, "/getTable_index/month/out2,11": [["月", "交際"], ["200403", "57,091"], ["200402", "62,718"], ["200401", "83,359"], ["200312", "51,406"], ["200311", "117,598"], ["200310", "97,939"], ["200309", "115,687"], ["200308", "36,239"], ["200307", "47,918"], ["200306", "105,153"], ["200305", "119,138"], ["200304", "104,091"], ["200303", "59,456"], ["200302", "55,282"], ["200301", "61,784"], ["200212", "65,939"], ["200211", "60,598"], ["200210", "42,157"], ["200209", "96,789"], ["200208", "50,353"], ["200207", "75,987"], ["200206", "64,065"], ["200205", "42,548"], ["200204", "120,923"], ["200203", "94,402"], ["200202", "103,072"], ["200201", "115,185"], ["200112", "60,484"], ["200111", "118,076"], ["200110", "56,659"], ["200109", "63,409"], ["200108", "32,418"], ["200107", "85,385"], ["200106", "66,834"], ["200105", "91,206"], ["200104", "44,091"]], "/getGraph_index/month/out2,11": {"type": "line", "options": {"elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203", "200204", "200205", "200206", "200207", "200208", "200209", "200210", "200211", "200212", "200301", "200302", "200303", "200304", "200305", "200306", "200307", "200308", "200309", "200310", "200311", "200312", "200401", "200402", "200403"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "交際", "data": [44091, 91206, 66834, 85385, 32418, 63409, 56659, 118076, 60484, 115185, 103072, 94402, 120923, 42548, 64065, 75987, 50353, 96789, 42157, 60598, 65939, 61784, 55282, 59456, 104091, 119138, 105153, 47918, 36239, 115687, 97939, 117598, 51406, 83359, 62718, 57091]}]}}, "/getTable_index/month/out2,12": [["月", "その他"], ["200403", "11,740"], ["200402", "18,140"], ["200401", "13,180"], ["200312", "19,562"], ["200311", "10,713"], ["200310", "13,838"], ["200309", "18,397"], ["200308", "14,732"], ["200307", "19,555"], ["200306", "10,333"], ["200305", "12,801"], ["200304", "15,750"], ["200303", "13,754"], ["200302", "12,560"], ["200301", "13,114"], ["200212", "17,160"], ["200211", "16,809"], ["200210", "16,147"], ["200209", "13,657"], ["200208", "17,573"], ["200207", "17,261"], ["200206", "16,556"], ["200205", "19,914"], ["200204", "10,859"], ["200203", "15,473"], ["200202", "16,795"], ["200201", "17,334"], ["200112", "10,158"], ["200111", "19,838"], ["200110", "16,312"], ["200109", "19,129"], ["200108", "12,810"], ["200107", "17,298"], ["200106", "16,869"], ["200105", "18,284"], ["200104", "10,286"]], "/getGraph_index/month/out2,12": {"type": "line", "options": {"elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203", "200204", "200205", "200206", "200207", "200208", "200209", "200210", "200211", "200212", "200301", "200302", "200303", "200304", "200305", "200306", "200307", "200308", "200309", "200310", "200311", "200312", "200401", "200402", "200403"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "その他", "data": [10286, 18284, 16869, 17298, 12810, 19129, 16312, 19838, 10158, 17334, 16795, 15473, 10859, 19914, 16556, 17261, 17573, 13657, 16147, 16809, 17160, 13114, 12560, 13754, 15750, 12801, 10333, 19555, 14732, 18397, 13838, 10713, 19562, 13180, 18140, 11740]}]}}, "/getTable_index/year/asset,None": [["年度", "資産"], ["2003", "11,919,150"], ["2002", "11,856,527"], ["2001", "10,654,944"]], "/getGraph_index/year/asset,None": {"type": "line", "options": {"elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["2001", "2002", "2003"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "資産", "data": [10654944, 11856527, 11919150]}]}}, "/getTable_index/year/inout,None": [["年度", "収入", "支出", "収支"], ["2003", "8,457,641", "8,395,018", "62,623"], ["2002", "8,649,769", "7,448,186", "1,201,583"], ["2001", "8,363,221", "8,708,277", "-345,056"]], "/getGraph_index/year/inout,None": {"type": "bar", "data": {"labels": ["2001", "2002", "2003"], "datasets": [{"type": "line", "fill": false, "borderColor": "rgb(  0,   0, 255)", "label": "収入", "data": [8363221, 8649769, 8457641]}, {"type": "line", "fill": false, "borderColor": "rgb(  0, 203, 255)", "label": "支出", "data": [8708277, 7448186, 8395018]}, {"type": "bar", "backgroundColor": "rgb(255, 255,   0)", "label": "収支", "data": [-345056, 1201583, 62623]}]}, "options": {"responsive": true, "tooltips": {"mode": "index", "intersect": true}, "elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"ticks": {"beginAtZero": true}}]}}}, "/getTable_index/year/in,None": [["年度", "給与A", "給与B"], ["2003", "6,524,873", "1,932,768"], ["2002", "6,738,375", "1,911,394"], ["2001", "6,689,661", "1,673,560"]], "/getGraph_index/year/in,None": {"type": "line", "options": {"elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["2001", "2002", "2003"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "給与A", "data": [6689661, 6738375, 6524873]}, {"fill": "-1", "backgroundColor": "rgba(  0, 203, 255, 0.5)", "borderColor": "rgb(  0, 203, 255)", "label": "給与B", "data": [1673560, 1911394, 1932768]}]}}, "/getTable_index/year/out1,None": [["年度", "光熱水", "通信", "住居", "医療・保険", "食料品", "日用雑貨", "交通", "娯楽", "交際"], ["2003", "440,101", "154,514", "1,718,314", "346,684", "931,340", "194,271", "179,464", "3,253,252", "998,337"], ["2002", "455,963", "147,546", "1,927,458", "342,397", "888,422", "190,552", "186,998", "2,327,605", "795,881"], ["2001", "502,085", "147,503", "1,967,707", "357,429", "901,046", "178,841", "188,628", "3,343,231", "931,221"]], "/getGraph_index/year/out1,None": {"type": "line", "options": {"elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["2001", "2002", "2003"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "光熱水", "data": [502085, 455963, 440101]}, {"fill": "-1", "backgroundColor": "rgba(  0, 203, 255, 0.5)", "borderColor": "rgb(  0, 203, 255)", "label": "通信", "data": [147503, 147546, 154514]}, {"fill": "-1", "backgroundColor": "rgba(255, 255,   0, 0.5)", "borderColor": "rgb(255, 255,   0)", "label": "住居", "data": [1967707, 1927458, 1718314]}, {"fill": "-1", "backgroundColor": "rgba(216, 255, 204, 0.5)", "borderColor": "rgb(216, 255, 204)", "label": "医療・保険", "data": [357429, 342397, 346684]}, {"fill": "-1", "backgroundColor": "rgba(  0, 255,   0, 0.5)", "borderColor": "rgb(  0, 255,   0)", "label": "食料品", "data": [901046, 888422, 931340]}, {"fill": "-1", "backgroundColor": "rgba(  0, 101,   0, 0.5)", "borderColor": "rgb(  0, 101,   0)", "label": "日用雑貨", "data": [178841, 190552, 194271]}, {"fill": "-1", "backgroundColor": "rgba(255,  63,   0, 0.5)", "borderColor": "rgb(255,  63,   0)", "label": "交通", "data": [188628, 186998, 179464]}, {"fill": "-1", "backgroundColor": "rgba( 203,  0, 203, 0.5)", "borderColor": "rgb( 203,  0, 203)", "label": "娯楽", "data": [3343231, 2327605, 3253252]}, {"fill": "-1", "backgroundColor": "rgba(  0,   0,  50, 0.5)", "borderColor": "rgb(  0,   0,  50)", "label": "交際", "data": [931221, 795881, 998337]}]}}, "/getTable_index/year/out2,0": [["年度", "電気"], ["2003", "140,831"], ["2002", "150,601"], ["2001", "179,018"]], "/getGraph_index/year/out2,0": {"type": "line", "options": {"elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["2001", "2002", "2003"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "電気", "data": [179018, 150601, 140831]}]}}, "/getTable_index/year/out2,1": [["年度", "ガス"], ["2003", "150,694"], ["2002", "151,815"], ["2001", "160,633"]], "/getGraph_index/year/out2,1": {"type": "line", "options": {"elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["2001", "2002", "2003"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "ガス", "data": [160633, 151815, 150694]}]}}, "/getTable_index/year/out2,2": [["年度", "水道"], ["2003", "148,576"], ["2002", "153,547"], ["2001", "162,434"]], "/getGraph_index/year/out2,2": {"type": "line", "options": {"elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["2001", "2002", "2003"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "水道", "data": [162434, 153547, 148576]}]}}, "/getTable_index/year/out2,3": [["年度", "通信"], ["2003", "154,514"], ["2002", "147,546"], ["2001", "147,503"]], "/getGraph_index/year/out2,3": {"type": "line", "options": {"elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["2001", "2002", "2003"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "通信", "data": [147503, 147546, 154514]}]}}, "/getTable_index/year/out2,4": [["年度", "住居"], ["2003", "1,718,314"], ["2002", "1,927,458"], ["2001", "1,967,707"]], "/getGraph_index/year/out2,4": {"type": "line", "options": {"elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["2001", "2002", "2003"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "住居", "data": [1967707, 1927458, 1718314]}]}}, "/getTable_index/year/out2,5": [["年度", "保険"], ["2003", "188,411"], ["2002", "195,627"], ["2001", "200,501"]], "/getGraph_index/year/out2,5": {"type": "line", "options": {"elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["2001", "2002", "2003"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "保険", "data": [200501, 195627, 188411]}]}}, "/getTable_index/year/out2,6": [["年度", "医療"], ["2003", "158,273"], ["2002", "146,770"], ["2001", "156,928"]], "/getGraph_index/year/out2,6": {"type": "line", "options": {"elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["2001", "2002", "2003"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "医療", "data": [156928, 146770, 158273]}]}}, "/getTable_index/year/out2,7": [["年度", "食料品"], ["2003", "931,340"], ["2002", "888,422"], ["2001", "901,046"]], "/getGraph_index/year/out2,7": {"type": "line", "options": {"elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["2001", "2002", "2003"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "食料品", "data": [901046, 888422, 931340]}]}}, "/getTable_index/year/out2,8": [["年度", "日用雑貨"], ["2003", "194,271"], ["2002", "190,552"], ["2001", "178,841"]], "/getGraph_index/year/out2,8": {"type": "line", "options": {"elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["2001", "2002", "2003"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "日用雑貨", "data": [178841, 190552, 194271]}]}}, "/getTable_index/year/out2,9": [["年度", "交通"], ["2003", "179,464"], ["2002", "186,998"], ["2001", "188,628"]], "/getGraph_index/year/out2,9": {"type": "line", "options": {"elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["2001", "2002", "2003"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "交通", "data": [188628, 186998, 179464]}]}}, "/getTable_index/year/out2,10": [["年度", "娯楽"], ["2003", "3,253,252"], ["2002", "2,327,605"], ["2001", "3,343,231"]], "/getGraph_index/year/out2,10": {"type": "line", "options": {"elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["2001", "2002", "2003"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "娯楽", "data": [3343231, 2327605, 3253252]}]}}, "/getTable_index/year/out2,11": [["年度", "交際"], ["2003", "998,337"], ["2002", "795,881"], ["2001", "931,221"]], "/getGraph_index/year/out2,11": {"type": "line", "options": {"elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["2001", "2002", "2003"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "交際", "data": [931221, 795881, 998337]}]}}, "/getTable_index/year/out2,12": [["年度", "その他"], ["2003", "178,741"], ["2002", "185,364"], ["2001", "190,586"]], "/getGraph_index/year/out2,12": {"type": "line", "options": {"elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["2001", "2002", "2003"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "その他", "data": [190586, 185364, 178741]}]}}}
      },
      components: {"tbl": tblComponent, "out2_main": out2_mainComponent, "out2_bar": out2_barComponent},
      delimiters: ['[[', ']]'],

      methods: {
        update: function(){
          // グラフの作成
          this.updateGraph('/getGraph_index/' + this.selectedUnit + "/asset,None", 'canvas_asset')
          this.updateGraph('/getGraph_index/' + this.selectedUnit + "/inout,None", 'canvas_inout')
          this.updateGraph('/getGraph_index/' + this.selectedUnit + "/in,None", 'canvas_in')
          this.updateGraph('/getGraph_index/' + this.selectedUnit + "/out1,None", 'canvas_out1')
          for(var i=0; i<this.out2Len; i++) {
            this.updateGraphOut2('/getGraph_index/' + this.selectedUnit + "/out2," + String(i), 'canvas_out2_' + String(i), i)
          }
          if (this.selectedOption == 'グラフ＆表'){
            // 表の作成
            this.updateTbl('/getTable_index/' + this.selectedUnit + '/asset,None', 'tbl_asset')
            this.updateTbl('/getTable_index/' + this.selectedUnit + '/inout,None', 'tbl_inout')
            this.updateTbl('/getTable_index/' + this.selectedUnit + '/in,None', 'tbl_in')
            this.updateTbl('/getTable_index/' + this.selectedUnit + '/out1,None', 'tbl_out1')
            this.out2_tbl = []
            for(var i=0; i<this.out2Len; i++) {
              path = '/getTable_index/' + this.selectedUnit + '/out2,' + String(i)
              this.out2_tbl.push(this.sampleData[path])
            }
          } else {
            // 表の削除
            this.tbl_asset = [[]]
            this.tbl_inout = [[]]
            this.tbl_in = [[]]
            this.tbl_out1 = [[]]
            this.out2_tbl = []
          }
        },
        updateTbl: function(path, prop){
          this[prop] = this.sampleData[path]
        },
        updateGraph: function(path, canvas){
          var ctx = document.getElementById(canvas).getContext('2d')
          if (this[canvas] == ''){
          } else {
            this[canvas].destroy()
          }
          var x = new Chart(ctx, this.sampleData[path])
          this[canvas] = x
        },
        updateGraphOut2: function(path, canvas, i){
          var ctx = document.getElementById(canvas).getContext('2d')
          if (this.canvas_out2[i] == ''){
          } else {
            this.canvas_out2[i].destroy()
          }
          var x = new Chart(ctx, this.sampleData[path])
          this.canvas_out2[i] = x
        }
      },
      created: function(){
        path='/getOut2'
        this.out2_name = this.sampleData[path]
        this.out2Len = this.sampleData[path].length
        for(var i=0; i<this.out2Len; i++) {
          this.canvas_out2.push('')
        }
        this.created = true
      },
      mounted: async function(){
        while(!this.created){
          await sleep(100)
        }
        this.update()
      }
    })

  </script>

</body>
</html>
