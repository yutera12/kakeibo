<!doctype html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <title>家計簿</title>
  <link rel="icon" href="https://img.icons8.com/ios/50/000000/money-bag-yen.png" type="image/png"/>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.22/vue.min.js'></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.min.js"></script>
  <link rel=stylesheet type=text/css href="https://yutera12.github.io/kakeibo/style.css">
</head>

<body>
  <div class="container-fluid">
    <!--ナビゲーションウィンドウここから-->
    <header>
      <nav class="navbar navbar-expand navbar-dark bg-dark fixed-top">
        <div class="navbar-brand">
          家計簿
        </div>
        <div class="navbar-nav">
          <a class="nav-item nav-link" href="#">メニュー</a>
          <a class="nav-item nav-link" href="index">推移</a>
          <a class="nav-item nav-link" href="month">月毎・年度毎</a>
          <a class="nav-item nav-link active" href="future">予測</a>
        </div>
      </nav>
    </header>
    <!--ナビゲーションウィンドウここまで-->
  </div>
  <div class="container">
    <div class="row">
      <div class="col-1"></div>
      <div class = "col-10">
        <!--メイン-->
        <main>
          <h2>予測</h2>
          <canvas id="graph" height="50%" width="100%"></canvas>
          <div id="tbl"></div>
        </main>
        <footer>
          <ul>
            <li><a href="https://icons8.com/icon/34001/お金袋円">お金袋円 icon by Icons8</a></li>
          </ul>
        </footer>
      </div>
    </div>
  </div>

  <script>
    sampleData = {"/getGraph_future": {"type": "line", "options": {"elements": {"line": {"tension": 0.0001}}, "scales": {"yAxes": [{"stacked": true, "ticks": {"beginAtZero": true}}]}, "legend": {"display": true}}, "data": {"labels": ["200104", "200105", "200106", "200107", "200108", "200109", "200110", "200111", "200112", "200201", "200202", "200203", "200204", "200205", "200206", "200207", "200208", "200209", "200210", "200211", "200212", "200301", "200302", "200303", "200304", "200305", "200306", "200307", "200308", "200309", "200310", "200311", "200312", "200401", "200402", "200403", "200404", "200405", "200406", "200407", "200408", "200409", "200410", "200411", "200412", "200501", "200502", "200503", "200504", "200505", "200506", "200507", "200508", "200509", "200510", "200511", "200512", "200601", "200602", "200603", "200604", "200605", "200606", "200607", "200608", "200609", "200610", "200611", "200612", "200701", "200702", "200703", "200704", "200705", "200706", "200707", "200708", "200709", "200710", "200711", "200712", "200801", "200802", "200803", "200804", "200805", "200806", "200807", "200808", "200809", "200810", "200811", "200812", "200901", "200902", "200903"], "datasets": [{"fill": true, "backgroundColor": "rgba(  0,   0, 255, 0.5)", "borderColor": "rgb(  0,   0, 255)", "label": "実績", "data": [11008128, 11211628, 11288876, 11221371, 11225229, 11084081, 10905618, 10924207, 10951177, 10889941, 10678750, 10654944, 10776546, 10887842, 10882369, 10996005, 11138898, 11149703, 11293374, 11579224, 11603376, 11696376, 11576207, 11856527, 11756290, 11817551, 11805961, 11679806, 11568787, 11743308, 11640261, 11683969, 11563822, 11702403, 11914446, 11919150, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]}, {"fill": "-1", "backgroundColor": "rgba(  0, 203, 255, 0.5)", "borderColor": "rgb(  0, 203, 255)", "label": "予測", "data": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 11818913, 11880174, 11868584, 11742429, 11631410, 11805931, 11702884, 11746592, 11626445, 11765026, 11977069, 11981773, 11881536, 11942797, 11931207, 11805052, 11694033, 11868554, 11765507, 11809215, 11689068, 11827649, 12039692, 12044396, 11944159, 12005420, 11993830, 11867675, 11756656, 11931177, 11828130, 11871838, 11751691, 11890272, 12102315, 12107019, 12006782, 12068043, 12056453, 11930298, 11819279, 11993800, 11890753, 11934461, 11814314, 11952895, 12164938, 12169642, 12069405, 12130666, 12119076, 11992921, 11881902, 12056423, 11953376, 11997084, 11876937, 12015518, 12227561, 12232265]}]}}, "/getTable_future": [["月", "実績", "予測"], ["200903", "0", "12,232,265"], ["200902", "0", "12,227,561"], ["200901", "0", "12,015,518"], ["200812", "0", "11,876,937"], ["200811", "0", "11,997,084"], ["200810", "0", "11,953,376"], ["200809", "0", "12,056,423"], ["200808", "0", "11,881,902"], ["200807", "0", "11,992,921"], ["200806", "0", "12,119,076"], ["200805", "0", "12,130,666"], ["200804", "0", "12,069,405"], ["200803", "0", "12,169,642"], ["200802", "0", "12,164,938"], ["200801", "0", "11,952,895"], ["200712", "0", "11,814,314"], ["200711", "0", "11,934,461"], ["200710", "0", "11,890,753"], ["200709", "0", "11,993,800"], ["200708", "0", "11,819,279"], ["200707", "0", "11,930,298"], ["200706", "0", "12,056,453"], ["200705", "0", "12,068,043"], ["200704", "0", "12,006,782"], ["200703", "0", "12,107,019"], ["200702", "0", "12,102,315"], ["200701", "0", "11,890,272"], ["200612", "0", "11,751,691"], ["200611", "0", "11,871,838"], ["200610", "0", "11,828,130"], ["200609", "0", "11,931,177"], ["200608", "0", "11,756,656"], ["200607", "0", "11,867,675"], ["200606", "0", "11,993,830"], ["200605", "0", "12,005,420"], ["200604", "0", "11,944,159"], ["200603", "0", "12,044,396"], ["200602", "0", "12,039,692"], ["200601", "0", "11,827,649"], ["200512", "0", "11,689,068"], ["200511", "0", "11,809,215"], ["200510", "0", "11,765,507"], ["200509", "0", "11,868,554"], ["200508", "0", "11,694,033"], ["200507", "0", "11,805,052"], ["200506", "0", "11,931,207"], ["200505", "0", "11,942,797"], ["200504", "0", "11,881,536"], ["200503", "0", "11,981,773"], ["200502", "0", "11,977,069"], ["200501", "0", "11,765,026"], ["200412", "0", "11,626,445"], ["200411", "0", "11,746,592"], ["200410", "0", "11,702,884"], ["200409", "0", "11,805,931"], ["200408", "0", "11,631,410"], ["200407", "0", "11,742,429"], ["200406", "0", "11,868,584"], ["200405", "0", "11,880,174"], ["200404", "0", "11,818,913"], ["200403", "11,919,150", "0"], ["200402", "11,914,446", "0"], ["200401", "11,702,403", "0"], ["200312", "11,563,822", "0"], ["200311", "11,683,969", "0"], ["200310", "11,640,261", "0"], ["200309", "11,743,308", "0"], ["200308", "11,568,787", "0"], ["200307", "11,679,806", "0"], ["200306", "11,805,961", "0"], ["200305", "11,817,551", "0"], ["200304", "11,756,290", "0"], ["200303", "11,856,527", "0"], ["200302", "11,576,207", "0"], ["200301", "11,696,376", "0"], ["200212", "11,603,376", "0"], ["200211", "11,579,224", "0"], ["200210", "11,293,374", "0"], ["200209", "11,149,703", "0"], ["200208", "11,138,898", "0"], ["200207", "10,996,005", "0"], ["200206", "10,882,369", "0"], ["200205", "10,887,842", "0"], ["200204", "10,776,546", "0"], ["200203", "10,654,944", "0"], ["200202", "10,678,750", "0"], ["200201", "10,889,941", "0"], ["200112", "10,951,177", "0"], ["200111", "10,924,207", "0"], ["200110", "10,905,618", "0"], ["200109", "11,084,081", "0"], ["200108", "11,225,229", "0"], ["200107", "11,221,371", "0"], ["200106", "11,288,876", "0"], ["200105", "11,211,628", "0"], ["200104", "11,008,128", "0"]]}
    path = '/getTable_future'
    new Vue({
      el: '#tbl',
      data: {"columns": sampleData[path][0], "values": sampleData[path].slice(1)},
      template: `
      <table class="table table-striped table-sm table-hover">
      <thead>
        <tr align="right">
          <th v-for = "col in columns">[[col]]</th>
        </tr>
      </thead>
      <tbody>
        <tr align="right" v-for = "line in values">
          <td v-for = "dt in line">[[dt]]</td>
        </tr>
      </tbody>
      </table>`,
      delimiters: ['[[', ']]']
    });

    path = '/getGraph_future'
    chart = new Chart('graph', sampleData[path])

</script>
</body>
</html>
